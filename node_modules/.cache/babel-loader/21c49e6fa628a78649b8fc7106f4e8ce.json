{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\hemlok_sports\\\\hemlok-sports\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\hemlok_sports\\\\hemlok-sports\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Products from './components/Products';\nimport Filter from './components/Filter';\nimport Basket from './components/Basket';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeSize = e => {\n      this.setState({\n        size: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleAddToCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems;\n        let productAlreadyInCart = false;\n        cartItems.forEach(cp => {\n          if (cp.id === product.id) {\n            cp.count += 1;\n            productAlreadyInCart = true;\n          }\n        });\n\n        if (!productAlreadyInCart) {\n          cartItems.push(_objectSpread({}, product, {\n            count: 1\n          }));\n        }\n\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return {\n          cartItems: cartItems\n        };\n      });\n    };\n\n    this.handleRemoveFromCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems.filter(a => a.id !== product.id);\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return {\n          cartItems: cartItems\n        };\n      });\n    };\n\n    this.state = {\n      products: [],\n      filteredProducts: [],\n      cartItems: []\n    };\n    this.handleChangeSort = this.handleChangeSort.bind(this);\n    this.handleChangeSize = this.handleChangeSize.bind(this);\n    this.handleAddToCart = this.handleAddToCart.bind(this);\n    this.handleRemoveFromCart = this.handleRemoveFromCart.bind(this);\n  }\n\n  componentWillMount() {\n    fetch(\"http://localhost:8000/products\").then(res => res.json()).then(data => this.setState({\n      products: data,\n      filteredProducts: data\n    }));\n\n    if (localStorage.getItem('cartItems')) {\n      this.setState({\n        cartItems: JSON.parse(localStorage.getItem('cartItems'))\n      });\n    }\n  }\n\n  listProducts() {\n    this.setState(state => {\n      if (state.sort !== '') {\n        state.products.sort((a, b) => state.sort === 'lowest' ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n      } else {\n        state.products.sort((a, b) => a.id < b.id ? 1 : -1);\n      }\n\n      if (state.size !== '') {\n        return {\n          filteredProducts: state.products.filter(a => a.availableSizes.indexOf(state.size >= 0))\n        };\n      }\n\n      return {\n        filteredProducts: state.products\n      };\n    });\n  }\n\n  handleChangeSort(e) {\n    this.setState({\n      sort: e.target.value\n    });\n    this.listProducts();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Hemlok Sports\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Filter, {\n      size: this.state.size,\n      sort: this.state.sort,\n      handleChangeSize: this.handleChangeSize,\n      handleChangeSort: this.handleChangeSort,\n      count: this.state.filteredProducts.length,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Products, {\n      products: this.state.filteredProducts,\n      handleAddToCart: this.handleAddToCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Basket, {\n      cartItems: this.state.cartItems,\n      handleRemoveFromCart: this.handleRemoveCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\ASUS\\Desktop\\hemlok_sports\\hemlok-sports\\src\\App.js"],"names":["React","Component","Products","Filter","Basket","App","constructor","props","handleChangeSize","e","setState","size","target","value","listProducts","handleAddToCart","product","state","cartItems","productAlreadyInCart","forEach","cp","id","count","push","localStorage","setItem","JSON","stringify","handleRemoveFromCart","filter","a","products","filteredProducts","handleChangeSort","bind","componentWillMount","fetch","then","res","json","data","getItem","parse","sort","b","price","availableSizes","indexOf","render","length","handleRemoveCart"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Products from './components/Products';\nimport Filter from './components/Filter';\nimport Basket from './components/Basket';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = { products:[], filteredProducts: [], cartItems:[] }\n    this.handleChangeSort = this.handleChangeSort.bind(this);\n    this.handleChangeSize = this.handleChangeSize.bind(this);\n    this.handleAddToCart = this.handleAddToCart.bind(this);\n    this.handleRemoveFromCart = this.handleRemoveFromCart.bind(this);\n  }\n  componentWillMount(){\n    fetch(\"http://localhost:8000/products\").then(res => res.json())\n    .then( data => this.setState({\n      products: data,\n      filteredProducts: data\n    }));\n    if (localStorage.getItem('cartItems')) {\n      this.setState({ cartItems: JSON.parse(localStorage.getItem('cartItems')) });\n    }\n  }\n  \n  listProducts(){\n    this.setState(state => {\n      if(state.sort !==''){\n        state.products.sort((a,b)=>(state.sort==='lowest')? \n        (a.price > b.price?1:-1) : \n        (a.price < b.price?1:-1) )\n      } else {\n        state.products.sort((a,b) => (a.id< b.id ? 1:-1)); \n      }\n      if (state.size !== '') {\n        return { filteredProducts: state.products.filter(a => a.availableSizes.indexOf(state.size >= 0)) };\n      }\n      \n      return{ filteredProducts: state.products};\n    })\n  }\n\n  handleChangeSort(e){\n    this.setState({sort: e.target.value});\n    this.listProducts();\n  }\n  handleChangeSize = (e) => {\n    this.setState({ size: e.target.value });\n    this.listProducts();\n  }\n\n  handleAddToCart = (e, product) => {\n    this.setState(state => {\n      const cartItems = state.cartItems;\n      let productAlreadyInCart = false;\n\n      cartItems.forEach(cp => {\n        if (cp.id === product.id) {\n          cp.count += 1;\n          productAlreadyInCart = true;\n        }\n      });\n\n      if (!productAlreadyInCart) {\n        cartItems.push({ ...product, count: 1 });\n      }\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\n      return { cartItems: cartItems };\n    });\n  }\n  \n  handleRemoveFromCart = (e, product) => {\n    this.setState(state => {\n      const cartItems = state.cartItems.filter(a => a.id !== product.id);\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\n      return { cartItems: cartItems };\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"Container\">\n        <h1>Hemlok Sports</h1>\n        <hr/>\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <Filter size={this.state.size} sort={this.state.sort} handleChangeSize={this.handleChangeSize}\n          handleChangeSort={this.handleChangeSort} count={this.state.filteredProducts.length} />\n          <hr/>\n          <Products products={this.state.filteredProducts} handleAddToCart={this.handleAddToCart}/>\n        </div>\n        <div className=\"col-md-4\">\n          <Basket cartItems={this.state.cartItems} handleRemoveFromCart={this.handleRemoveCart} />\n        </div>\n      </div>\n      \n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}